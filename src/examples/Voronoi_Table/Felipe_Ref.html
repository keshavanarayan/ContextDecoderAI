<html class=" bgmoglvo idc0_330"><head>
    <meta charset="utf-8">
    <title>URBAN ACUPUNTURE AI</title>
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.3.0/mapbox-gl.css" rel="stylesheet">
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.3.0/mapbox-gl.js"></script>
    <style>
      body { margin: 0; padding: 0; }
      #map { position: absolute; top: 0; bottom: 0; width: 100%; }
  
    body {
      margin: 0;
      padding: 0;
      font-family: 'Helvetica Neue', Helvetica, Arial, Sans-serif;
    }
    
    #map {
      position: absolute;
      top: 0;
      bottom: 0;
      width: 100%;
    }
    
    h1 {
      
      font-size: 20px;
      line-height: 30px;
      font-family: 'Helvetica Neue', Helvetica, Arial, Sans-serif;
    }
    
    h2 {
      font-size: 14px;
      line-height: 20px;
      margin-bottom: 10px;
      font-family: 'Helvetica Neue', Helvetica, Arial, Sans-serif;
    }
    
    a {
      text-decoration: none;
      color: #800080;
    }
     
      #console {
      position: absolute;
      width: 230px;
      margin: 10px 20PX ;
      padding: 10px 20px;
      background-color: rgba(250,250,250,0.70);
      margin-bottom: 1px
    }
      
      #consoleA {
      position: absolute;
      width: 230px;
      margin: 250px 20PX;
      padding: 10px 20px;
      background-color: rgba(250,250,250,0.70);
    }
      #consoleB {
      position: absolute;
      width: 230px;
      margin: 455px 20PX;
      padding: 10px 20px;
      background-color: rgba(250,250,250,0.70);
    }
    
    .session {
      margin-bottom: 20px;
    }
    
    .row {
      height: 12px;
      width: 100%;
      font-size: 13px;
    
    }
    
    .colors {
      background: linear-gradient(to right, #FCA107, #a8faf3, #800080);
      margin-bottom: 2px;
    }
    
    .label {
      width: 15%;
      display: inline-block;
      text-align: center;
      font-size: 11px;
    } 
          
    </style>
</head>          

<body data-new-gr-c-s-check-loaded="14.1014.0" data-gr-ext-installed="">
    <div id="map" class="mapboxgl-map"><div class="mapboxgl-canary" style="visibility: hidden;"></div><div class="mapboxgl-canvas-container mapboxgl-interactive mapboxgl-touch-drag-pan mapboxgl-touch-zoom-rotate"><canvas class="mapboxgl-canvas" tabindex="0" aria-label="Map" role="region" width="1365" height="969" style="width: 1365px; height: 969px;"></canvas></div><div class="mapboxgl-control-container"><div class="mapboxgl-ctrl-top-left"></div><div class="mapboxgl-ctrl-top-right"><div class="mapboxgl-ctrl mapboxgl-ctrl-group"><button class="mapboxgl-ctrl-zoom-in" type="button" title="Zoom in" aria-label="Zoom in" aria-disabled="false"><span class="mapboxgl-ctrl-icon" aria-hidden="true"></span></button><button class="mapboxgl-ctrl-zoom-out" type="button" title="Zoom out" aria-label="Zoom out" aria-disabled="false"><span class="mapboxgl-ctrl-icon" aria-hidden="true"></span></button><button class="mapboxgl-ctrl-compass" type="button" title="Reset bearing to north" aria-label="Reset bearing to north"><span class="mapboxgl-ctrl-icon" aria-hidden="true" style="transform: rotate(0deg);"></span></button></div></div><div class="mapboxgl-ctrl-bottom-left"><div class="mapboxgl-ctrl" style="display: block;"><a class="mapboxgl-ctrl-logo" target="_blank" rel="noopener nofollow" href="https://www.mapbox.com/" aria-label="Mapbox logo"></a></div></div><div class="mapboxgl-ctrl-bottom-right"><div class="mapboxgl-ctrl mapboxgl-ctrl-attrib"><button class="mapboxgl-ctrl-attrib-button" type="button" title="Toggle attribution" aria-label="Toggle attribution"></button><div class="mapboxgl-ctrl-attrib-inner" role="list"><a href="https://www.mapbox.com/about/maps/" target="_blank" title="Mapbox" aria-label="Mapbox" role="listitem">© Mapbox</a> <a href="http://www.openstreetmap.org/about/" target="_blank" title="OpenStreetMap" aria-label="OpenStreetMap" role="listitem">© OpenStreetMap</a> <a href="https://www.mapbox.com/map-feedback/" target="_blank" title="Improve this map" aria-label="Improve this map" role="listitem">Improve this map</a></div></div></div></div></div>
    <div id="console">
      <h1>Public Transport </h1>
      <p>REF TEXT IF NEEDED</p>
      <div class="session" id="sliderbar">
        <input id="slider" class="row" type="range" min="0" max="50" step="10" value="10">
      </div>
      
      <div class="session">
        <div class="row colors">
        </div>
        <div class="row labels">
          <div class="label">0</div>
          <div class="label">10</div>
          <div class="label">20</div>
          <div class="label">30</div>
          <div class="label">40</div>
          <div class="label">50+</div>
        </div>
      </div>
      <div class="session">
        <div class="row" id="filters">
          <input id="score" type="radio" name="toggle" value="score" checked="checked">
          <label for="all">All</label>
          <input id="score" type="radio" name="toggle" value="score">
          <label for="score">Score</label>
          <input id="clustering" type="radio" name="toggle" value="clustering">
          <label for="clustering">Clustering</label>
        </div>
      </div>
    </div>
   

    <div id="consoleA">
      <h1>Hospital &amp; Healthcare </h1>  
      <div class="session" id="sliderbarA">
        <input id="sliderA" class="row" type="range" min="0" max="50" step="10" value="10">
      </div>
      
      <div class="session">
        <div class="row colors">
        </div>
        <div class="row labels">
          <div class="label">0</div>
          <div class="label">10</div>
          <div class="label">20</div>
          <div class="label">30</div>
          <div class="label">40</div>
          <div class="label">50+</div>
        </div>
      </div>
      <div class="session">
        <div class="row" id="filters">
            <input id="score" type="radio" name="toggle" value="score" checked="checked">
            <label for="all">All</label>
            <input id="score" type="radio" name="toggle" value="score">
            <label for="score">Score</label>
            <input id="clustering" type="radio" name="toggle" value="clustering">
            <label for="clustering">Clustering</label>
        </div>
      </div>
    </div>
  
  <div id="consoleB">
      <h1>Primary Education</h1>  
      <div class="session" id="sliderbarA">
        <input id="sliderA" class="row" type="range" min="0" max="50" step="10" value="10">
      </div>
      
      <div class="session">
        <div class="row colors">
        </div>
        <div class="row labels">
          <div class="label">0</div>
          <div class="label">10</div>
          <div class="label">20</div>
          <div class="label">30</div>
          <div class="label">40</div>
          <div class="label">50+</div>
        </div>
      </div>
      <div class="session">
        <div class="row" id="filters">
            <input id="score" type="radio" name="toggle" value="score" checked="checked">
            <label for="all">All</label>
            <input id="score" type="radio" name="toggle" value="score">
            <label for="score">Score</label>
            <input id="clustering" type="radio" name="toggle" value="clustering">
            <label for="clustering">Clustering</label>
        </div>
      </div>
    </div>
  </script>
 
 
 
</body></html>    


 <!--

<script>
    mapboxgl.accessToken = 'pk.eyJ1IjoiZnJvbWVybzg3MDYiLCJhIjoiY2twNmZ0cDVhMDEwdDMwbnlxeTc4Ymp5NyJ9.fPBrFxyrknGhm1RpEP7A6g';
    var map = new mapboxgl.Map({
      container: 'map',
      style: 'mapbox://styles/fromero8706/ckp6fy4zc0k6918p5krj4rnvo',
      center: [-215, -37.8],
      zoom: 11
    });


 <!--navigation controls -->
 map.addControl(new mapboxgl.NavigationControl());
 
 <!-- SLIDERS VARIABLES -------------------------------------------------- -->
 
 var scoreTypes = {
   //0: 'bus_stop_closest_score',
   //1: 'm_bus_stop_0',
   //2: 'bus_stop_avg_score_of_5',
   0: 'public_transport_avg_score_of_2',
   1: 'primary_education_avg_score_of_4',
   2: 'higher_education_avg_score_of_4',
   3: 'hospital_avg_score_of_2',
   4: 'spec_healthcare_avg_score_of_8',
   5: 'pharmacy_avg_score_of_2',
   6: 'food_avg_score_of_8',
   7: 'nightlife_avg_score_of_8',
   8: 'entertainment_avg_score_of_8',
   9: 'sport_facility_avg_score_of_8',
   10: 'green_area_avg_score_of_2',
   11: 'bbq_area_avg_score_of_8',
   12: 'place_of_worship_avg_score_of_4',
   13: 'tourism_avg_score_of_8',
 }
  
 function filterBy(scoreNumber) {
   
   var scoreType = scoreTypes[scoreNumber];
   
   // Currently, we do not need to filter the dataset itself
   // var filters = ['==', 'score', score];
   // map.setFilter('Ptrans-circles', filters);
   // map.setFilter('Ptrans-labels', filters);
   
   map.removeLayer('Ptrans-circles')
   map.removeLayer('Ptrans-labels')
   addLayers(scoreType)
 
   // Set the label to the score
   document.getElementById('score').textContent = scoreType;
 }
   
 <!-- LOADING DATA -------------------------------------------------- -->
 
 
 function addLayers(scoreType) {
   map.addLayer({
       'id': 'Ptrans-circles',
       'type': 'circle',
       'source': 'Ptrans',
       'paint': {
           'circle-color': [
               'interpolate',
               ['linear'],
               ['get', scoreType ],
               80,
               '#FCA107',
               90,
               '#800080'
           ],
           'circle-opacity': 0.30,
           'circle-radius': [
               'interpolate',
               ['linear'],
               ['get', scoreType ],
               80,
               20,
               90,
               25
           ]
       }
   });
 
   map.addLayer({
       'id': 'Ptrans-labels',
       'type': 'symbol',
       'source': 'Ptrans',
       'layout': {
           'text-field': [
               'concat',
               ['to-string', ['get', scoreType ]],
               'pt'
           ],
           'text-font': [
               'Open Sans Bold',
               'Arial Unicode MS Bold'
           ],
           'text-size': 12
       },
       'paint': {
           'text-color': 'rgba(179,179,179,0.8)'
       }
   });
 }
   
 
 map.on('load', function () {
     d3.json(
       'https://cdn.glitch.com/2d205a3d-9725-4668-8025-c865b8ab27d6%2Fwhole_melbourne_address_scores.geojson?v=1623377953294', //new  file test
       //'https://cdn.glitch.com/2d205a3d-9725-4668-8025-c865b8ab27d6%2FFR_PTRANSv2.geojson?v=1622617838821',
         function (err, data) {
             if (err) throw err;
 
             // Create a month property value based on time
             // used to filter against.
             // data.features = data.features.map(function (d) {
             //     console.log(d.properties)
             //     d.properties.score = d.properties.score;
             //     return d;
             // });
 
             map.addSource('Ptrans', {
                 'type': 'geojson',
                 data: data
             });
 
             addLayers(scoreTypes[0]);
 
             // Initial filter
             // filterBy(0);
 
             document
                 .getElementById('slider')
                 .addEventListener('input', function (e) {
                     var scoreNumber = parseInt(e.target.value, 10)
                     filterBy(scoreNumber);
                 });
         }
     );
 });
   
 
 
